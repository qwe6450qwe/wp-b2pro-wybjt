# B2首页背景图插件

这是一个专为WordPress B2Pro主题开发的插件，提供网站全局背景图片的定制化管理功能，支持完全替换主题原有背景。


# 插件作者不对插件进行任何担保，也不承担任何因使用插件而导致的损失或损害。


## 功能特点

- **全屏背景图片**：实现固定定位的全屏背景图片效果
- **主题背景完全替换**：自动重置并覆盖B2Pro主题原有背景设置
- **响应式设计**：适配所有设备及屏幕尺寸
- **丰富的自定义选项**：
  - 图片上传/选择功能
  - 背景图显示优先级设置
  - 背景图片重复方式选择（不重复、平铺、横向重复、纵向重复）
  - 背景图片位置调整（居中、左上角、右上角等）
  - 透明度控制滑块
  - 模糊度控制滑块（0-100，实现从清晰到模糊的平滑过渡）
  - 启用/禁用开关
- **性能优化**：
  - 图片预加载功能
  - 优化资源加载，确保页面加载速度
- **UI元素兼容**：确保弹窗、下拉菜单等UI元素正常显示和交互
- **深色模式支持**：针对深色模式自动调整内容区域背景色

## 安装方法

1. 下载插件的ZIP文件
2. 登录WordPress后台
3. 进入「插件」→「添加新插件」→「上传插件」
4. 选择下载的ZIP文件并点击「安装现在」
5. 安装完成后点击「启用插件」

## 使用说明

1. 启用插件后，在WordPress后台左侧菜单栏会出现「B2背景图设置」选项
2. 点击进入设置页面，您可以：
   - 开启/关闭插件功能
   - 上传或选择一张背景图片
   - 设置背景图的重复方式（不重复、平铺、横向重复、纵向重复）
   - 设置背景图的位置（居中、左上角、右上角、左下角、右下角等）
   - 调整背景图的透明度
   - 调整背景图的模糊度（0为关闭模糊，100为完全模糊）
   - 设置背景图的优先级（影响与主题元素的层级关系）
3. 完成设置后，点击「保存设置」按钮
4. 访问网站前端，您将看到新设置的背景图片效果，主题原有背景会自动被替换

## 技术实现

插件通过以下方式实现背景图功能：
- 使用`body::before`伪元素创建固定定位的背景层
- 自动重置主题中多个可能影响背景的元素（.site, .b2-bg, .b2-page-bg等）
- 通过多层次CSS覆盖机制确保背景图正确显示
- 优化z-index设置，确保不影响弹窗等UI元素的正常功能

## 注意事项

- 建议使用高分辨率、大尺寸的图片以确保在大屏幕上显示效果良好
- 过大的图片可能会影响页面加载速度，建议适当压缩图片
- 透明度设置会影响背景图片的可见度，可根据实际需求调整
- 优先级设置会影响背景图在页面层级中的位置，但现在背景图默认设置为最低层级，确保不影响其他元素
- 内容区域默认带有半透明背景色，以确保文字可读性

## 常见问题

### Q: 背景图片没有显示怎么办？
A: 请检查以下几点：
- 确认插件已启用
- 确认已上传背景图片并保存设置
- 尝试清除浏览器缓存

### Q: 背景图片在移动设备上显示异常？
A: 插件已内置响应式优化，在小屏幕上自动调整背景图的显示方式。如仍有问题，可尝试选择不同的背景图位置设置。

### Q: 背景图片会影响网站加载速度吗？
A: 插件包含图片预加载优化，但建议使用适当大小的图片以避免影响加载速度。推荐使用WebP格式图片以获得更好的压缩率。

### Q: 启用背景图后，弹窗或下拉菜单无法正常显示？
A: 插件已优化z-index设置，确保弹窗等UI元素正常显示。如仍有问题，请确保使用的是最新版本的插件。

### Q: 背景图上方出现白色覆盖层怎么办？
A: 插件会自动重置所有可能影响背景的元素。如仍有问题，可尝试禁用其他可能修改背景的插件。

## 版本信息

- **版本**：1.2.0
- **作者**：MIKOLA
- **兼容性**：WordPress 5.0+，B2Pro主题
- **更新日期**：2024

## 更新日志

### 1.2.0
- 新增背景图模糊度控制功能
- 支持0-100的拖动条调整，实现从清晰到模糊的平滑过渡
- 0对应无模糊效果，100对应最大模糊效果
- 优化CSS实现，确保模糊效果在各浏览器中正常显示

### 1.1.0
- 优化背景图实现方式，确保与主题完全兼容
- 修复弹窗等UI元素被背景图影响的问题
- 解决背景图上方可能出现白色覆盖的问题
- 完善深色模式下的样式支持
- 添加更全面的背景元素重置功能

### 1.0.0
- 初始版本发布
- 实现基本的背景图设置功能
- 支持响应式设计

## 许可证

本插件是基于MIT许可证开源的纯AI开发插件。
